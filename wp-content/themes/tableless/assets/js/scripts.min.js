
var tableless=(function(){'use strict';function init(){showFeaturedPosts();prettyPrintHighlight();openCloseSearch();searchAjax();resultsListPosition();}
function prettyPrintHighlight(){var $root=document.querySelector('html');if($root.classList.contains('single')){preHighlight();prettyPrint();}}
function preHighlight(){var $pre=document.querySelectorAll('pre');for(var i=0;i<$pre.length;i++){$pre[i].classList.add('prettyprint','linenums');}}
function openCloseSearch(){$('.tb-search-btn, .tb-close-search').on('click',function(e){e.preventDefault();$('.tb-search-box').toggleClass('tb-is-active');$('#s').focus();});}
function searchAjax(){$('#searchsubmit').on('click',function(e){e.preventDefault();var searchTerm=$('#s').val();$.ajax({url:"http://localhost/tableless/?s="+searchTerm,type:'get',success:function(data){var dataContent=$('<div class="tb-data-box">').html(data).find('.tb-search-content').html();$('.tb-search-results-list').html(dataContent);}});});}
function showFeaturedPosts(){$('.tb-featured-post:first').addClass('tb-is-active');$('.tb-thumb-box').on('click',function(e){e.preventDefault();var $targetPost=$('#'+$(this).data('target'));$('.tb-featured-post').removeClass('tb-is-active');$targetPost.addClass('tb-is-active');console.log($targetPost);});}
function resultsListPosition(){$(".tb-search-results-list").css({"max-height":($(window).height()-($(".searchform").position().top+$(".searchform").height()))+"px"});}
return{init:init,preHighlight:preHighlight}}());(function(){tableless.init();}());